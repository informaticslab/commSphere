div(ng-controller='customizeReportCtrl' style='background-color:#f2f2f2;')
	.modal-content
		.modal-header.header_dark
			.row(style='background-color:#ffffff;')
				.col-lg-12
					.create-new-event-cont
						h2.h2-create-new(id='myModalLabel') {{eventdoc.eventName}}	
						i Due Date: {{eventdoc.eventDueDate | date:'medium'}}		
						h3 Customize Report		
					.save-draft-cont(style='position:absolute; float:left; margin-left:-30px;')
						button.btn.btn-default.btn-circle.glyphicon.glyphicon-remove(type='button' ng-click='cancel();saveCustomizedReport()')
		.modal-body
			.row
				.submit-btn-cont.pull-right
					button.btn.btn-success(type="button" ng-click="preview('sm',customizedDoc);saveCustomizedReport()")
						| Preview Report
				.col-lg-6.col-md-6.col-sm-6
					div
						label Report Title
						input.form-control(placeholder='Enter report title' ng-model='customizedDoc.reportMeta.title')
						label Report type
						input.form-control(placeholder='Enter report type' ng-model='customizedDoc.reportMeta.type')
			br
			br
			.row
				.col-lg-12(ui-tree='options')
					ol(ui-tree-nodes='' ng-model='customizedDoc.docData' data-type='section')
						li(ng-repeat='section in customizedDoc.docData', ui-tree-node='' )
							.topic-title.angular-ui-tree-handle(ng-show='!section.editing' ng-mouseenter="hoverSection = true" ng-mouseleave="hoverSection = false")
								a.del-edit-btn.btn.btn-default.btn-xs.pull-right(ng-show='hoverSection' href='' data-nodrag='' ng-click='editSection(section)')
									i.glyphicon.glyphicon-pencil
								div Â {{section.sectionName}}
							.topic-title.angular-ui-tree-handle(data-nodrag='', ng-show='section.editing')
								label.sr-only(for='SectionName') Section Name
								input.form-control(type='text', placeholder='Section name', ng-model='section.sectionName' ng-keyup='$event.keyCode==13 ? saveSection(section,$event) : null' ng-blur='saveSection(section,$event)')
							.report-wrapper
								div(ng-if='section.sectionType == "Metrics"')
									.row
										ol(ui-tree-nodes='' ng-model='section.sectionData.doc.gridData')
											li(ng-repeat='grid in section.sectionData.doc.gridData', ui-tree-node='')
												.topic-title.angular-ui-tree-handle(data-nodrag='')
													div {{grid.gridName}}
												ol(ui-tree-node='' ng-model='grid.dailyData' data-type='subTopic')
													.grid(id="{{'grid_'+$index}}", ui-grid="{data: grid.dailyData, columnDefs : columns, showFooter: false, enableVerticalScrollbar:0,enableHorizontalScrollbar: 2, enableColumnMenu: false, enableCellSelection: false, enableRowSelection: false, enableCellEditOnFocus: true,}", ng-style="getTableHeight(grid,'grid_'+$index)",ui-grid-auto-resize) 
								div(ng-repeat="category in section.sectionData.doc.categories" ng-if='section.sectionType =="Document"')
									h4.report-category
										.checkbox
											input(type='checkbox' ng-model='category.checked' ng-click='selectAll(category)')
											| {{category.name}}
									div(ng-repeat="topic in category.topics") 
										h4.report-topic
											.checkbox
												input(type='checkbox' ng-model='topic.checked' ng-checked='topic.checked')
												| {{topic.name}}
										ul
											li(ng-repeat="topicBullets in topic.bullets") 
												.checkbox
													input(type='checkbox' ng-model='topicBullets.checked' ng-checked='topicBullets.checked')
													| {{topicBullets.name}}
												ul
													li(ng-repeat="topicSubBullets in topicBullets.subBullets") 
														.checkbox
															input(type='checkbox' ng-model='topicSubBullets.checked' ng-checked='topicSubBullets.checked')
															| {{topicSubBullets.name}}
										div(ng-repeat="subtopic in topic.subTopics")
											h4.report-sub-topic
												.checkbox
													input(type='checkbox' ng-model='subtopic.checked' ng-checked='subtopic.checked')
													| {{subtopic.name}}
											ul
												li(ng-repeat="bullet in subtopic.bullets") 
													.checkbox
														input(type='checkbox' ng-model = 'bullet.checked' ng-checked='bullet.checked')
														| {{bullet.name}}	
													ul
														li(ng-repeat="subBullet in bullet.subBullets") 
															.checkbox
																input(type='checkbox' ng-model='subBullet.checked' ng-checked='subBullet.checked')
																| {{subBullet.name}}
								label Notes
									textarea(type='text', ng-model='section.sectionData.notes')
								
													



