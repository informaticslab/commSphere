div(ng-controller="createEventCtrl" style="background-color:#f2f2f2;")
	.modal-content
		.modal-header.header_dark
			.row(style='background-color:#ffffff;')
				.col-lg-12
					.create-new-event-cont
						h2.h2-create-new(id='myModalLabel') Create Event
						br
						p.p-create-new {{date | date:'medium'}}
					.create-btn-cont
						button.btn.btn-success(type="button" ng-click="createEvent()")
							| Create
					.save-draft-cont
						button.btn.btn-success(type="button" ng-click="saveDraftEvent('clicked')")
							| Save Draft
					
					.save-draft-cont(style='position:absolute; float:left; margin-left:-30px;')
						button.btn.btn-default.btn-circle.glyphicon.glyphicon-remove(type="button" ng-click="cancel()")
		.modal-body(style='background-color:#f2f2f2;')
			.row(style='background-color:#ffffff; margin-top:-15px;')
				.col-lg-12
					.form-comp-cont-toprow
						label Event Name
						input#exampleInputName2.form-control(placeholder="Enter event name" ng-model="eventdoc.eventName" ng-disabled="eventNameReadonly")
						br
						input(type='checkbox', ng-model='eventNameOverride' ng-change="setOverrideFlags()" ng-show="showOverrideCheckbox")
						label.small(ng-show="showOverrideCheckbox")
							| &nbsp;Edit Event Name
					.form-comp-cont-toprow
						label Type
						select.form-control(placeholder="Select event type" ng-model="eventdoc.eventType" ng-options="event as event for event in eventTypes | orderBy: event")
							option(value="") - Select event type -
					.form-comp-cont-toprow(width="20px")
						label Due Date
						//input.form-control(id="dueDate" placeholder="Enter due date" ng-model="eventdoc.eventDueDate")
						.dropdown
							a#dropdown1.dropdown-toggle(role='button', data-toggle='dropdown', data-target='#', href='')
								.input-group
									div.form-control(type='text')
										| {{eventdoc.eventDueDate | date:'MMM d, yyyy h:m a (EEEE)'}}
									span.input-group-addon
										i.glyphicon.glyphicon-calendar
							ul.dropdown-menu(role='menu', aria-labelledby='dLabel')
								datetimepicker(data-on-set-time="onTimeSet(newDate, oldDate)" data-ng-model='eventdoc.eventDueDate', data-datetimepicker-config="{ dropdownSelector: '#dropdown1' }")
					.form-comp-cont-toprow
						label Publish Date
						//input.form-control(id="publishDate" placeholder="Enter publish date" ng-model="eventdoc.eventPublishDate")
						.dropdown
							a#dropdown2.dropdown-toggle(role='button', data-toggle='dropdown', data-target='#', href='')
								.input-group
									div.form-control(type='text')
										| {{eventdoc.eventPublishDate | date:'MMM d, yyyy h:m a (EEEE)'}}
									span.input-group-addon
										i.glyphicon.glyphicon-calendar
							ul.dropdown-menu(role='menu', aria-labelledby='dLabel')
								datetimepicker(data-ng-model='eventdoc.eventPublishDate', data-datetimepicker-config="{ dropdownSelector: '#dropdown2' }")
			.row(style='background-color:#f2f2f2; height:100vh;')
				.col-lg-12.col-md-12.col-sm-12
					.tab-container
						tabset
							tab(ng-repeat="category in eventdoc.categories" heading="{{category.name}}")
								.row
									.col-lg-12(ui-tree='options')
										.tab-content(style='background-color:#ffffff;')
											.tab-title-heading
												img(ng-if='category.name=="Social Media"' src='img/web-icon.png', width='37', height='32')
												img(ng-if='category.name=="Traditional News Media"' src='img/news-icon.png', width='37', height='32')
												|   {{category.name}}
											.assign-to-cont
												label Assign To
												select.form-control(placeholder='Select Analyst' ng-model='category.userAssigned' ng-options='user as user.displayName for user in users track by user.id' )
													option(value="") - Select an analyst -
											br
											br
											br
											hr
											br
											ol(ui-tree-nodes='', ng-model='category.topics', data-type='topic')
												li(ng-repeat='topic in category.topics', ui-tree-node='')
													.topic-title.angular-ui-tree-handle(ng-show='!topic.editing' ng-mouseenter="hoverTopic = true" ng-mouseleave="hoverTopic = false")
														a.del-edit-btn.btn.btn-default.btn-xs.pull-right(ng-show="hoverTopic" href='', data-nodrag='', ng-click='removeTopic(category,topic)')
															i.glyphicon.glyphicon-trash
														a.del-edit-btn.btn.btn-default.btn-xs.pull-right(ng-show="hoverTopic" href='', data-nodrag='', ng-click='editTopic(topic)')
															i.glyphicon.glyphicon-pencil
														div Â {{topic.name}}
													.topic-title.angular-ui-tree-handle(data-nodrag='', ng-show='topic.editing')
														label.sr-only(for='topicName') Topic name
														input.form-control(type='text', placeholder='Topic name', ng-model='topic.name' ng-keyup='$event.keyCode==13 ? saveTopic(topic,$event) : null' ng-blur='saveTopic(topic,$event)')
													ol(ui-tree-nodes='', ng-model='topic.subTopics', data-type='subTopic')
														li(ng-repeat='subTopic in topic.subTopics', ui-tree-node='')
															.subTopic-title.angular-ui-tree-handle(ng-show='!subTopic.editing' ng-mouseenter="hoverSubTopic = true" ng-mouseleave="hoverSubTopic = false")
																a.del-edit-btn.btn.btn-default.btn-xs.pull-right(ng-show="hoverSubTopic" href='', data-nodrag='', ng-click='removeSubTopic(topic, subTopic)')
																	i.glyphicon.glyphicon-trash
																a.del-edit-btn.btn.btn-default.btn-xs.pull-right(ng-show="hoverSubTopic" href='', data-nodrag='', ng-click='editSubTopic(subTopic)')
																	i.glyphicon.glyphicon-pencil
																div
																	| {{subTopic.name}}
															.subTopic-title.angular-ui-tree-handle(data-nodrag='', ng-show='subTopic.editing')
																label.sr-only(for='subTopicName') SubTopic name
																input.form-control(type='text', ng-model='subTopic.name', placeholder='SubTopic name' ng-keyup='$event.keyCode==13 ? saveSubTopic(subTopic,$event) : null' ng-blur='saveSubTopic(subTopic,$event)')
													ol.angular-ui-tree-nodes(data-nodrag='')
														li.angular-ui-tree-node
															.subTopic-title.angular-ui-tree-handle
																form.form-inline(role='form')
																	.form-topic
																		label.sr-only(for='subTopicName') SubTopic name
																		input.form-control(type='text', ng-model='topic.newSubTopicName', placeholder='SubTopic name' ng-keyup='$event.keyCode==13 ? addSubTopic(topic,$event) : null' ng-blur='addSubTopic(topic,$event)')
																	//button.btn.btn-default(type='submit', ng-click='addSubTopic(topic)') Add SubTopic
											ol.angular-ui-tree-nodes
												li.angular-ui-tree-node
													.topic-title.angular-ui-tree-handle
														form.form-inline(role='form')
															.form-topic
																label.sr-only(for='topicName') Topic name
																input#topicName.form-control(type='text', placeholder='Topic name' ng-model="category.newTopicName" ng-keyup='$event.keyCode==13 ? addTopic(category,$event) : null' ng-blur='addTopic(category,$event)')
															//button.btn.btn-default(type='submit', ng-click='addTopic(category)') Add Topic
								//.row
									.col-lg-6
											h3 Data binding
											.info
												| {{  }}
											pre.code.
												{{ eventdoc | json }}	

			.clear-divs


			

							
						